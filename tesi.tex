% remove the oneside option for printing
\documentclass[a4paper, oneside]{memoir}

\include{preamble}

\begin{document}

\begin{titlingpage}

    \begin{figure}[!htb]
        \centering
        \includegraphics[scale=0.4]{cherubino.pdf}
    \end{figure}

    \begin{center}
        \textcolor[RGB]{2,87,144}{\textbf{\textsc{\huge Università di Pisa}}}\\
        \vspace{10mm}

        \large{\textsc{Dipartimento di Matematica}}\\
        \large{\textsc{Corso di Laurea Triennale in Matematica}}\\
        \vspace{35mm}
        {\Huge{\bfseries Local Tate Duality}}
    \end{center}
    \vspace{45mm}

    \begin{minipage}[t]{.5\textwidth}
        {\large{\scshape Candidato}{\normalsize\vspace{3mm}
                \bfseries\\ \large{Francesco Minnocci}}}
    \end{minipage}
    \hfill
    \begin{minipage}[t]{.5\textwidth}\raggedleft
        {\large{\scshape Relatore}{\normalsize\vspace{3mm} \bfseries\\ \large{Támas Szamuely}}}
    \end{minipage}

    \vspace{30mm}
    \centering{\large{\textsc{Anno Accademico 2023/2024}}}

\end{titlingpage}

% make TOC
\tableofcontents

\chapter*{Introduction}

% Introduce notation: things like Ab, sep. closure, p-primary p-torsion, etc.

\addcontentsline{toc}{section}{Introduction}

\chapter{Cohomology of Finite Groups}

\section{The category of $G$-Modules}

In this chapter, $G$ will always denote a finite multiplicative group. We begin by introducing the notion of a $G$-module:

\begin{definition}
    A $G$-module is an abelian group $A$ (whose operation we denote additively) endowed with a left action of $G$ such that
    \begin{align*}
        A & \longrightarrow A    \\
        x & \longmapsto g\cdot x
    \end{align*}
    is a homomorphism of groups for all $g\in G$.
\end{definition}

\begin{remark}
    Let $\Z[G]$ be the group ring of $G$ over $\Z$, that is the set of formal sums
    \[
        \sum_{g\in G}{n_g\cdot g}
    \]
    with $n_g\in\Z$. The action of $G$ on itself by left multiplication induces a $G$-module structure on $\Z[G]$ by extending linearly.

    More generally, a $G$-module is the same as a (left) module over the ring $\Z[G]$: the action of $G$ extends linearly to multiplication by elements of $\Z[G]$. This does not hold for discrete modules on profinite groups, as we will see later on.
\end{remark}

As with any category, we need specify the morphisms between objects:

\begin{definition}
    A morphism of $G$-modules is a group homomorphism $A\overset{f}{\to} B$ which commutes with the action of $G$, that is
    \[
        f(g\cdot x)=g\cdot f(x)
    \]
    for all $g\in G$ and $x\in A$. Again, this is the same as a morphism of $\Z[G]$-modules.
\end{definition}

We denote by $\Hom_G{A,B}$ the abelian group of morphisms of $G$-modules between $A$ and $B$, which is a subgroup of all homomorphisms $\Hom_\Z{(A,B)}$.

\begin{example}{$G$-modules}\
    \begin{itemize}
        \item Any abelian group $A$ is a $G$-module with the trivial action $g\cdot x=x$ for all $g\in G$ and $x\in A$.
        \item If $A$ and $B$ are $G$-modules, then the group homomorphisms $\Hom{(A,G)}$ form a $G$-module with the action
              \[
                  (g\cdot f)(x)=g\cdot f(g^{-1}\cdot x)
              \]
              for all $g\in G$, $f\in\Hom{(A,B)}$ and $x\in A$.
        \item Let $L / K$ be a finite Galois extension of fields with Galois group $G$. Then, the additive group $L$ and the multiplicative group $L^\times$
    \end{itemize}
\end{example}

\section{Group Cohomology}

Given a $G$-module $A$, there is a natural sub-$G$-module of $A$ consisting of the elements fixed by the action of $G$:

\begin{definition}
    The $G$-\textbf{invariants} of $A$ are the elements $a \in A$ fixed by the action of $G$:
    \[
        A^G:=\{x\in A\mid\, g\cdot x=x ~ \forall g\in G\}.
    \]
\end{definition}

We can define the cohomology groups of $G$ with coefficients in $A$ as the derived functors of $F$:

\chapter{Cohomology of Profinite Groups}

\section{Cohomological Dimension}
\section{Galois Cohomology}
\subsection{Hilbert 90}
\subsection{Kummer Theory}
\subsection{Brauer Group of a Field}

\chapter{Local Fields}
In this chapter we are going to recall some notions of algebraic number theory over local fields, that is fields which are complete with respect to a discrete valuation with finite
residue field. These fields turn out to be isomorphic to a finite extension of either the $p$-adic numbers $\Q_p$ or the Laurent series $\k((t))$ over a finite field $\k$.

We will see how to describe the structure of local fields by looking at certain filtrations of their units, how the extensions of their residue field is related to unramped
extensions of the field itself, and compute their Brauer group. The exposition of these topics will mainly follow \cite{SerreCL}.

\section{Complete Discretely Valued Fields}
Let $A$ be a \textit{discrete valuation ring} (or DVR), that is a local principal ideal domain of Krull dimension 1. If $\mathfrak{m}$ is its maximal ideal we denote by $\k$ its
residue field; a generator $\pi$ of $\mathfrak{m}$ is said to be a \textit{uniformizer} of $A$. Since $A$ is local, the group of invertible elements $A^\times$ is just
$A\setminus\mathfrak{m}$.

It follows that every non-zero element $x$ of $A$ can be written uniquely as
\begin{equation}\label{eq:DVR}
    x=u\cdot\pi^n
\end{equation}
for some $u\in A^\times$ and $n\in\N$; by setting $v(x):=n$ and $v(0):=\infty$ we get a \textbf{valuation} on $A$, that is a map $v:\K:=\operatorname{Frac}{(A)}\to\Z\cup\{\infty\}$ which satisfies
\begin{itemize}
    \item $v(x)=\infty$ if and only if $x=0$,
    \item $v(xy)=v(x)+v(y)$,
    \item $v(x+y)\geq\min\{v(x),v(y)\}$.
\end{itemize}
(to extend the valuation to the field of fractions $K$ of $A$ we just set $v(x/y)=v(x)-v(y)$).

In this situation, $A$ is said to be the \textit{ring of integers} of $\K$, that is the subring of $K$ consisting of elements with non-negative valuation. Note that $A^\times$ consists
of the elements of $A$ whose valuation is zero.

\begin{remark}
    If \(\K\) has positive characteristic \(p\), then the residue field \(\k\) has to be a finite field of characteristic \(p\). In the same way, if \(\k\) has characteristic \(0\) then
    the characteristic of \(\K\) is necessarily \(0\). These are the \textit{equal characteristic} cases; however, there are important examples where \(\operatorname{char}{\K}=0\)
    but \(\operatorname{char}{\k}=p\) (the \textit{mixed characteristic} case):
\end{remark}


\begin{example}[Discrete Valuation Rings]\label{ex:DVR}\
    \begin{itemize}
        \item If $p$ is a prime number, then the localization $\Z_{(p)}$ of $\Z$ at the ideal $(p)$ is a discrete valuation ring, with maximal ideal $(p)$, fraction field $\Q$ and residue field
              $\Z/p\Z$. The valuation is induced by the $p$-adic valuation on $\Z$, which assigns to a non-zero integer $x$ the largest integer $n$ such that $p^n$ divides $x$.
        \item The ring of \textit{$p$-adic integers} $\Z_p:=\varprojlim_n{\Z/p^n\Z}$ is a discrete valuation ring with maximal ideal $(p)$ and residue field $\Z/p\Z$. It is the completion of
              $\Z_{(p)}$ with respect to its maximal ideal, and its units are the elements $u=(u_n)$ with $u_1\neq 0$. The valuation of a non-zero element $x=(x_n)$ is $0$ if
              $x\in\Zp^\times$, and the largest $n$ such that $x_n= 0$ otherwise. Its fraction field $\Q_p$ is called the field of \textit{$p$-adic numbers}.
        \item The ring of formal power series $\k[[t]$ with coefficients in a field $\k$ is a discrete valuation ring, with the valuation of a non-zero power series $\sum_{n\geq
                      0}{a_nt^n}$ being the smallest $n$ such that $a_n\neq 0$. Its residue field is $\k=\k[[t]]/(t)$, and its fraction field is the field of \textit{Laurent series} $\k((t))$.
    \end{itemize}
\end{example}

Let $a$ be a real number between 0 and 1. Given a discrete valuation ring $A$, the valuation $v$ on its fraction field $\K$ defines an \textbf{ultrametric absolute value} on $\K$ by setting $|x|=a^{v(x)}$ for $x\in\K$ (and
$|0|=0$). This absolute value satisfies the following properties, and makes $\K$ into a totally disconnected metric space with the distance $d(x,y)=|x-y|$:
\begin{itemize}
    \item $|x|=0 \iff x=0$,
    \item $|xy|=|x|\cdot|y|$,
    \item $|x+y|\leq\max\{|x|,|y|\}$.
\end{itemize}

We can now talk about \textit{local fields}:

\begin{definition}
    A \textbf{local field} is a field $\K$ which is complete with respect to a discrete valuation and has a finite residue field.
\end{definition}

The following proposition (Prop. 1 of \cite{SerreCL}, Ch. II)
motivates this definition:
\begin{proposition}
    A discretely valued field $\K$ is locally compact with respect to the topology induced by the above distance if and only if it is complete and its residue field is finite. In
    this case, its ring of integers $A$ is compact, so that by \ref{rm:CptTotDisc} it is also a profinite group.
\end{proposition}

\begin{example}\
    \begin{itemize}
        \item If $\k$ is a field, then $\k((t))$ is complete, and it's locally compact if and only if $\k$ is a finite field.
        \item The fraction field $\Q$ of $\Z_{(p)}$ from Example \ref{ex:DVR} is not complete with respect to the $p$-adic valuation: its completion is the local field $\Q_p$.
    \end{itemize}
\end{example}

\subsubsection{Extensions}

Let now $\K$ be a field complete with respect to a discrete valuation $v$, $A$ its ring of integers and $\k=A/\mathfrak{m}$ its residue field. Given a finite extension $L$ of $\K$, the integral closure $B$ of $A$ in $L$ is a discrete valuation ring and free $A$-module of rank $[L:\K]$, whose induced
topology on $L$ makes it complete. Moreover, there exists a unique discrete valuation $w$ on $L$ inducing the same topology of $v$ on $\K$.

If $\mathfrak{n}$ is the maximal ideal of $B$, then $\mathfrak{m}B=\mathfrak{n}^e$ for some $e>0$, called the
\textit{ramification index} of the extension. The degree of the field extension $f:=[B /\mathfrak{n}:\k]$
is the \textit{residual degree} of the extension, and we have the following relations:
\begin{itemize}
    \item \( [L:\K]=e\cdot f \)
    \item $w(x) = e\cdot v(x)$ for all $x\in \K$.
\end{itemize}

\begin{definition}
    With the above notation, the extension $L/\K$ is said to be \textit{unramified} if $e=1$ and $B /\mathfrak{n}$ is separable over $\k$ (for instance when $\k$ is perfect), and \textit{totally ramified} if $f=1$.
\end{definition}

\begin{example}\
    \begin{itemize}
        \item Let $\k$ be a field. Then, the finite separable extensions of $\k((t))$ are exactly $\k^{\prime}((t))$ for $\k^{\prime} $ a finite separable extension of $\k$.
        \item The extension $\Q_p(\sqrt{p})/\Q_p$ is totally ramified of degree 2. More generally, given a complete DVR $(R,\mathfrak{m})$ with field of fractions $F$ and an \textit{Eisenstein polynomial}
              \[
                  f=x^n+a_{n-1}x^{n-1}+\ldots+a_0
              \]
              with $a_i\in\mathfrak{m}$ for $i<n$ and $a_0\not\in\mathfrak{m}^2$, the extension $F[x]/(f)$ is totally ramified of degree $n$.
    \end{itemize}
\end{example}
\subsubsection{Galois Theory}
After discussing extensions, we now present the Galois theory of a complete discretely valued field, under the additional assumption that its residue field is perfect. The main result is summarized by the following Theorem (Thm. 2 of \cite{SerreCL}, Ch. III):

\begin{theorem}Let $\K$ be a field complete for a discrete valuation with \textbf{perfect} residue field $\k$. Then:
    \begin{itemize}
        \item for any finite extension $\k^{\prime} $ of \(\k\), there exists a unique (up to isomorphism) finite unramified extension $L / \K$ with residue field $\k^{\prime} $, which is Galois if and only if $k/k^{\prime}$ is.
        \item Let \(\ks\) be an algebraic closure of \(\k\). If $\Knr$ is the inductive limit of the unramified extensions of $\K$ which correspond to finite extensions
              contained in $\ks$, then $\Knr$ is a Galois extension of $\K$ with Galois group $\operatorname{Gal}{(\Knr/\K)}\simeq \operatorname{Gal}{(\ks/\k)}$.
    \end{itemize}
\end{theorem}

The field $\Knr$ is called the \textit{maximal unramified extension} of $\K$. If $\Ks$ is a separable closure of $\K$, the subgroup
\[
    I:=\operatorname{Gal}{(\Ks/\Knr)} < \operatorname{Gal}{(\Ks/\K)}
\]
is called the \textit{inertia group} $I$ of $\K$.

\begin{example}\label{ex:FinFields}
    If $\K$ is a local field with residue field $\k=\mathbb{F}_q$, then for any integer $n>0$, there is a unique extension of $\k$ of degree $n$, which is cyclic with Galois group $\Zn$ (namely $\mathbb{F}_{q^n}$). It follows that
    \[
        \operatorname{Gal}{(\Knr/\K)}\simeq \operatorname{Gal}{(\ks / \k)}\simeq \hat{\Z}.
    \]
    In particular, there is an automorphism of $\Knr$ which corresponds to the Frobenius automorphism $x\mapsto x^q$ of $\ks$.
\end{example}

\section{Structure of Local Fields}

The following theorem implies a classification of local fields based on their characteristic (Thm. 2 and 4 of \cite{SerreCL}, Ch. II):

\begin{theorem}
    Let $\K$ be a field complete with respect to a discrete valuation whose residue field $\k$ has characteristic $p>0$. Then:
    \begin{itemize}
        \item if $\K$ has characteristic $p$, it is isomorphic to a finite extension of $\Q_p$,
        \item if $\K$ has characteristic $0$, it is isomorphic to the field of Laurent series $\k((t))$.
    \end{itemize}
\end{theorem}

Let $\K$ be a local field with ring of integers $\mathcal{O}_\K$ and residue field $\k$. We are interested in the multiplicative group $\K^\times$, however it's enough to determine the structure of the group of units $U_\K:=\mathcal{O}_\K^\times$, since after fixing an uniformizer \eqref{eq:DVR} yields an isomorphism $\K^\times\simeq \Z\times U_\K$, or equivalently the following exact sequence splits:

\begin{equation}\label{eq:SplitSeq}
    1\to U_\K \to \K^\times\overset{v}{\to}\Z\to 0.
\end{equation}

We first note that $\mathcal{O}_\K$ has a basis of open neighborhoods of $0$ given by the subgroups $\mathfrak{m}^n$ for $n\in\N$, where $\mathfrak{m}$ is the maximal ideal of $\mathcal{O}_\K$. Analogously, the multiplicative group $U_K:=\mathcal{O}_\K^\times$ has a basis of open neighborhoods of $1$ given by the subgroups
\[
    U_\K^j:=1+\mathfrak{m}^j,
\]

which define a filtration $U_\K = U_\K^0\supset U_\K^1\supset U_\K^2\supset\ldots$ of $U_\K$ by open subgroups with $\bigcap_j{U_\K^j}=\{1\}$. Furthermore, $U_\K$ is profinite (as it is closed in $\mathcal{O}_\K$) and so is $U_\K^1=\varprojlim_{j\geq 1}{U_\K^1 / U_\K^j}$, the group of \textit{principal units} of $\K$.

Now, the reduction map $U_\K\to \k^\times$ induces a short exact sequence

\[
    1\to U_\K^1\to U_K\to \k^\times \to 1,
\]

which splits thanks to (a version of) \textbf{Hensel's lemma}:

\begin{proposition}
    Let $\K$ be a field complete for a discrete valuation, with $A$ its ring of integers and residue $\k$.
    Given a polynomial $f\in A[x]$, any simple root of its reduction $f\in \k[x]$ lifts uniquely to a root of $f$.
\end{proposition}

Indeed, as $\k^\times$ is cyclic of order $m$ prime to $p$, by Hensel's lemma the polynomial $x^m=1$ has $m$ distinct roots in $U_\K$, which gives the desired section. In particular we get an isomorphism
\begin{equation}\label{eq:UK}
    U_\K\simeq U_\K^1\times\k^\times.
\end{equation}

Analogously, the surjective map
\begin{align*}
    U_\K^n       & \to \k               \\
    1 + u \pi ^n & \mapsto \overline{u}
\end{align*}
induces a short exact sequence
\[
    1\to U_\K^{n+1} \to U_\K^n\to \k\to 0,
\]

and thus the successive quotients $U_\K^n/U_\K^{n+1}$ are isomorphic to $\k$, which means that $U_\K^1$ is a \textit{pro-$p$ group}.

Finally, in the case of a $p$-adic field we can explicit the structure of $\K^\times$:

\begin{theorem}\label{thm:StructureLocalFields}
    If $\K$ is a $p$-adic field with $[\K:\Qp]=n$ and ramification index $e$ over $\Qp$, then
    \[
        U_\K^m \subset \K^p
    \]
    for all $m> \frac{e}{p-1}$. Moreover, we have the following decomposition of the group of principal units:
    \begin{equation*}
        U_\K^1 \simeq \Zp^n \times F, \\
    \end{equation*}
    where $F$ is a finite cyclic group of order a power of $p$.
    By \eqref{eq:SplitSeq} and \eqref{eq:UK}, this determines the structure of $K^\times$:
    \begin{align*}
        \K^\times & \simeq \Z \times U_\K                             \\
                  & \simeq \Z \times \Zp^n \times F \times \k^\times.
    \end{align*}
\end{theorem}

We omit the proof, which is a direct consequence of \cite{SerreCL}, Ch. XIV, Prop. 9 and 10.

Using this result, we can show that the $n$-th powers in $\K^\times$ are open:
\begin{corollary}\label{cor:KxOpen}
    Let $\K$ be a $p$-adic field. Then, for any $n>0$ the subgroup $\K^{*n}<\K^\times$ of $n$-th powers is open.
\end{corollary}
\begin{proof}
    If $n$ is not divisible by $p$, then we can use Hensel's lemma to show that $\K^{*n}$ contains the principal units $U_\K^1$, which are open in $\K^\times$: for any $a\in U_\K^1$, the polynomial $x^n-a$ reduces to $x^{n} - 1$ in $\k[x]$. Since $1$ is a root of the latter and $n$ is invertible in $\k$, we can lift it to a root of $x^n-a$ in $\K^\times$.

    As for the case $n=p^k$, since $U_\K^m$ is open in $\K^\times$ for any $m$, it's enough to show that $(U_\K^m)^{p^k}$ is open in $U_\K^m$.
    Then, using Prop. 9 of loc. cit. again we find that for $m>\frac{e}{p-1}$ the map $x\mapsto x^{p^k}$ is an isomorphism of $U_\K^m$ onto $U_\K^{m+ke}$, which is open in $U_\K^m$.
\end{proof}

\begin{remark}\label{rm:KxOpenCharP}
    If $\K$ is a local field of characteristic $p>0$, then $\K^{*p}$ cannot be not open in $\K^\times$, otherwise it would contain $U_\K^m$ for $m$ large enough but then $x^p = \pi^m + 1$ would imply $(x-1)^p = \pi^m$, which gives a contradiction whenever $(m,p)=1$.
    However, if $n$ is prime to $p$ then $\K^{*n}$ is still open in $\K^\times$ by Hensel's lemma, as in the previous corollary.
\end{remark}

\section{The Brauer Group of a Local Field}

Let $K$ be a local field with residue field $\k$. We now explain how to compute the Brauer group of a local field following \S 6.3 of \cite{SzamuelyGille}:

Recall from Remark \ref{rm:CSA} the interpretation of the Brauer group as equivalence classes of central simple algebras, which is crucial in the following. Given a local field $K$, we first reduce to the relative Brauer group of the maximal unramified extension $\Knr$ of $K$:

\begin{proposition}
    Let $K$ be a local field and $\Knr$ the maximal unramified extension of $K$, with Galois group $G=\operatorname{Gal}{(\Knr/K)}$. Then, the inflation map
    \[
        \H{2}{G}{\Knr^\times}\to\H{2}{K}{\Ks^\times}= \Br{K}
    \]
    is an isomorphism.

\end{proposition}

\begin{proof}{(Sketch)}

    Since G is the quotient of the absolute Galois group $\Gamma_K$ of $K$ by the inertia group $\operatorname{Gal}{(\Ks/\Knr)}$, the Hochschild-Serre spectral sequence yields the inflation-restriction exact sequence
    \[
        0\to\H{2}{G}{\Knr^\times}\to\H{2}{K}{\Ks^\times}\to\H{2}{\Knr}{\Ks^\times}.
    \]

    It's enough to show that the last term is trivial, but $\H{2}{\Knr}{\Ks^\times}=\Br{\Knr}$ is zero by Corollary 2.9.4 of \cite{SzamuelyGille}, which shows the existence of an unramified splitting field for any central simple algebra over $K$ by extending the valuation of $K$ to a central division algebra $D$ equivalent to $A$ through the reduced norm, and using it to show that $D$ has a maximal (and thus splitting) unramified subfield.
\end{proof}

As the valuation of $K$ extends uniquely to a valuation on $\Knr$, we have a exact sequence of $G$-modules which splits as in \eqref{eq:SplitSeq}:
\[
    1\to U_{\text{nr}} \to \Knr^\times\to\Z\to 1,
\]
with $U_{\text{nr}}$ the group of units of $\Knr$. This induces a split exact sequence in cohomology, which in degree 2 reads

\begin{equation}\label{eq:BrSeq}
    1\to\H{2}{G}{U_{\text{nr}}}\to\H{2}{G}{\Knr^\times}\to\H{2}{G}{\Z}\to 1.
\end{equation}

Let's compute each term: using the long exact sequence in cohomology associated with the short exact sequence

\[
    0\to\Z\to\Q\to\Q/\Z\to 0
\]
and Remark \ref{rm:UniqDiv}, we have an isomorphism of $\H{2}{G}{\Z}$ with $\H{1}{G}{\Q/\Z}$, which are just the continuous homomorphisms from $G$ to $\Q/\Z$. Recall from Example
\ref{ex:FinFields} of the previous
section that $G=\operatorname{Gal}{(\ks/\k)}\simeq\hat{\Z}$, and so
\[
    \H{2}{G}{\Z}=\Hom{(\hat{\Z},\Q/\Z)}\simeq\Q/\Z.
\]

Morever, using the profinite structure of the group of principal units $U_K^1$ one shows (as in Proposition 6.3.1 of \cite{SzamuelyGille}) that $\H{2}{G}{U_{\text{nr}}}$ is isomorphic to
the Brauer group of the residue field $\Br{\k}=\H{2}{\k}{\ks^\times}$.

Finally, the content of the previous proposition is that the middle term is isomorphic to $\Br{K}$, so that \eqref{eq:BrSeq} becomes
\[
    1\to\Br{\k}\to\Br{K}\to\Q/\Z\to 1.
\]

Since $\hat{\Z}$ has cohomological dimension 1 (Example \ref{ex:Zhat}), the first term is trivial, and we get a canonical isomorphism
\begin{equation}\label{eq:BrK}
    \Br{K}\simeq\Q/\Z.
\end{equation}

We also need the following result:

\begin{proposition}\label{prop:BrCorRes}
    Let $K$ be a local field and $L/K$ a finite separable extension. Then, the restriction map
    \[
        \Res: \Br{K}\to\Br{L}
    \]
    corresponds to multiplication by $[L:K]$ on $\Q/\Z$,
    and the corestriction map
    \[
        \Cor: \Br{L}\to\Br{K}
    \]
    corresponds to the identity of $\Q/\Z$.
\end{proposition}

\begin{proof}{(Sketch)}

    The second statament follows from the first, thanks the formula $\Cor \circ \Res = [L:K]$ (Theorem \ref{thm:CorRes}).

    The first statement can be shown by considering an unramified extension of $K$ contained in $L$, as the procyclic structure absolute Galois group of its residue field makes the computation of the corestriction
    straightforward (see Proposition 6.3.7 of \cite{SzamuelyGille}).
\end{proof}

\begin{corollary}\label{cor:BrRes}
    In the situation of the previous proposition, if $n=[L:K]$ then an element $a\in\Br{K}$ has trivial image in $\Br{L}$ if and only if $n\cdot a=0$.
\end{corollary}

\section{Cohomological Dimension}

We now use these results to compute the cohomological dimension of $\Gamma_K$:

\begin{proposition}
    Let $\K$ be a local field, and $L$ is an algebraic separable extension of $\K$. If $l^\infty \mid [L:\K]$ for some prime $l$, then $\cd{\Gamma_L}\leq 1$ and $\Br{L}\{l\}=0$.
\end{proposition}

\begin{proof}
    If $l = \operatorname{char}{\K}$, then we have seen that $\cd_l{(\Gamma_L)}\leq 1$ automatically (Proposition \ref{prop:CdCharP}).
    Otherwise, by Proposition \ref{prop:CdBr} it's enough to show that $\Br{L}\{l\}=0$ (we should check it for any algebraic separable extension of $L$, but the degree of any such
    extension is again divisible by $l^\infty$).
    Now, as in Example \ref{ex:IntOpenSgr} we can write the Brauer group of $L$ as the inductive limit of the Brauer groups of its finite subextensions
    \[
        \Br{L}=\varinjlim_{\mathclap{\substack{\K\subset E\subset L \\ E\text{ finite}}}}{\Br{E}},
    \]
    where the transition maps are given by restriction.
    Given such an intermediate field $E$ and an element $\alpha\in E$ killed by $l^m$ for some $m>0$, we can find a finite extension $F$ of $E$ such that $l^m\mid [F:E]$ (since
    $l^\infty\mid [L:E]$). In other words, $\alpha$ is killed by the degree of $F$ over $E$, so by Corollary \ref{cor:BrRes} it has trivial image in $\Br{F}$, and a fortiori in $\Br{L}$.

\end{proof}

\begin{corollary}
    The cohomological dimension of the inertia group $I:=\operatorname{Gal}{(\Ks/\Knr)}$ of $\K$ is at most 1.
\end{corollary}

\begin{proof}
    We just apply the previous proposition to the maximal unramified extension $\Knr$ of $\K$: as $\operatorname{Gal}{(\Knr/K)}\simeq\hat{\Z}$, we have that
    $l^\infty\mid [\Knr:K]$ for any prime $l$.
\end{proof}

\begin{theorem}\label{thm:CohomFin}
    If $l$ is a prime different from the characteristic of $\K$, then the cohomological $l$-dimension of $K$ equals 2. In particular, $\cd{(\K)}=2$.
\end{theorem}

\begin{proof}
    This is a consequence of the inequality \ref{eq:CdIneq}:

    \[
        \cd_l{(\K)}\leq \cd_l(I)+\cd_l{(\Gamma_\K / I)} \leq 2
    \]
    as $\cd_l(I)\leq 1$ by the previous corollary, and $\cd_l{(\Gamma_\K / I)} = 1$ by Example \ref{ex:Zhat} because $\Gamma_\K / I$ is the absolute Galois group of the residue
    field $\k$.

    Moreover, if $l\neq \operatorname{char}{\K}$, then the Kummer sequence implies that $\H{2}{K}{\mu_l}=\Br{K}\{l\}$ (Proposition \ref{prop:BrMuN}), which is not trivial by \eqref{eq:BrK}, and
    therefore $\cd_l{(\K)}=2$ by your favorite criterion about cohomological dimension.
\end{proof}

\section{Cohomological Finiteness}

We now specialize to the case of a $p$-adic field $K$, by first showing that the cohomology groups of $\mu_n$ are all finite:

\begin{theorem}\label{thm:CohomMuN}
    Let $K$ be a $p$-adic field and $n$ a positive integer.
    Then,
    \begin{itemize}
        \item $\H{1}{\K}{\mu_n} = \K^\times/\K^{\times n}$ is a finite group,
        \item $\H{2}{\K}{\mu_n} = \Z/n\Z$, and
        \item $\H{i}{\K}{\mu_n} = 0$ for $i\geq 3$.
    \end{itemize}
    In particular, $\H{i}{\K}{\mu_n}$ is finite for all $i$ (for $i=0$ it's just the invariants of $\mu_n$).
\end{theorem}
\begin{proof}
    The first isomorphism follows from \textit{Kummer Theory} \eqref{eq:Kummer}. We can show that $\K^\times/\K^{\times n}$ is finite using the structure theorem for local fields \ref{thm:StructureLocalFields}:
    \begin{align*}
        \K^\times/\K^{\times n} & \simeq \Zn \times  \times \Zp^{[\K:\Qp]}/n \Zp^{[\K:\Qp]} \times F/F^n \times  \kappa^\times/\kappa^{\times n} \\
                                & \simeq \Zn \times \kappa^\times/\kappa^{\times n} \times  \Zn \times F/F^n.
    \end{align*}
    Since both $\kappa^\times$ and $F$ are finite groups, we are done.

    For second isomorphism, $\H{2}{\K}{\mu_n}$ is equal to the $n$-torsion of $\Br{\K}$ by Proposition \ref{prop:BrMuN}, which is isomorphic to $\Q/\Z$, so that
    \[
        \H{2}{\K}{\mu_n} = \Br{\K}[n] \simeq \ssfrac{\frac{1}{n}\Z}{\Z} = \Z/n\Z.
    \]
    Finally, we have shown in the previous section that the absolute Galois group of a $p$-adic field has cohomological dimension 2, and since $\mu_n$ is torsion we are done.
\end{proof}

% TODO remark 8.14 about char p (which implies that duality holds for p-torsion-free modules)
\begin{remark}\label{rm:H1CharP}
    If $\K$ is a local field of characteristic $p>0$, then $\H{1}{\K}{\mu_p}$ is
\end{remark}

\begin{corollary}\label{cor:FinCohom}
    If $\K$ is a $p$-adic field and $M$ is a finite $\Gamma_K$-module, then
    \(\H{i}{\K}{M}\) is finite for all $i$.
\end{corollary}
\begin{proof}
    Let $M=\{m_1,\ldots,m_n\}$. Then, the open subgroup
    \[
        U\coloneqq \bigcap_{i=1}^n{\St(m_i)}
    \]
    acts trivially on $M$, and by Galois theory it corresponds to a finite extension $L^{\prime} $. Then, the absolute Galois group of $L\coloneqq L^{\prime}(\mu_n)$ acts trivially on both $M$ and $\mu_n$. By the structure theorem for finite abelian groups, $M$ is isomorphic (as a $\Gamma_L$-module) to the direct sum of finitely many $\mu_k$, with $k\mid n$.

    However, by the previous theorem $\H{i}{L}{\mu_k}$ is finite for all $i$, so $\H{i}{L}{M}$ is finite as well by additivity. Now, using the Hochschild-Serre spectral sequence \eqref{eq:HS}:
    \[
        E_2^{pq}= \H{p}{\mathrm{Gal}{(L / \K)}}{\H{q}{L}{M}} \Rightarrow \H{p+q}{\K}{M}
    \]
    we see that $\H{i}{K}{M}$ is finite, as it has a finite filtration whose successive quotients are subquotients of the finite groups $E_2^{pq}$ (which are finite as cohomology groups of a finite module, since $\mathrm{Gal}(L /\K)$ is finite).
\end{proof}




\chapter{Local Duality}
In this chapter we are going to define a product on cohomology, the \textit{cup product}, and work through its properties and compatibility with various pairings.

Using the cup product and the previous results on the structure of local fields, we'll prove Tate's local duality theorem for finite modules over the absolute Galois group $\Gamma$ of a $p$-adic field, for which we'll need to show the existence of a dualizing module for $G$, which represents the Pontryagin dual of a specific cohomology functor.

We will then apply all of this machinery by computing the abelianized absolute Galois group of a $p$-adic field, which describes the finite abelian extensions of $\K$.

\section{Cup Product}

Let $G$ be a profinite group. Given two $G$-modules $A$ and $B$, we consider their tensor product $A\otimes B$ (over $\Z$) with the natural $G$-module structure
\[
    g\cdot (a\otimes b)=g\cdot a\otimes g\cdot b,
\]
which extends to a bi-additive map on \textit{homogeneous} cochains
\begin{align*}
    K^p(G,A)\times K^q(G,B) & \overset{\cup}{\longrightarrow} K^{p+q}(G,A\otimes B) \\
    (a,b)                   & \mapsto a\cup b,
\end{align*}
by setting
\[
    (a\cup b)(g_0,\dots g_{p+q})=a(g_0,\dots,g_p)\otimes b(g_p,\dots,g_{p+q}).
\]

This extends to a map on cohomology groups:

\begin{theorem}\label{thm:Cup}
    The cup product induces a bi-additive map
    \begin{align*}
        \cup: \H{p}{G}{A}\times\H{q}{G}{B} & \longrightarrow \H{p+q}{G}{A\otimes B} \\
        (\alpha,\beta)                     & \longmapsto \alpha\cup\beta.
    \end{align*}
\end{theorem}

\begin{proof}
    We only need to prove that the cup product is well-defined, i.e. that it sends pairs of cocycles of $Z^p(G,A)\times Z^q(G,B)$ in cocycles of $Z^{p+q}(G,A\otimes B)$, and that changing one of such representatives by a coboundary doesn't change the cohomology class of the image.
    It's enough to prove the following formula:
    \begin{equation}\label{eq:DiffCup}
        d(a\cup b)=da\cup b+(-1)^pa\cup d b,
    \end{equation}
    whose computation follows readily from the definition of the coboundary by cancelling out terms with opposite signs in the right hand side.
\end{proof}

\begin{remark}\label{rm:Cup0n}
    Note that for $p=0$, the cup product with a fixed element $a\in \H{0}{G}{A}=A^G$ is a map
    \[
        \H{q}{G}{B}\to\H{q}{G}{A\otimes B}
    \]
    induced by
    \begin{align*}
        B & \longrightarrow A\otimes B \\
        b & \longmapsto a\otimes b,
    \end{align*}
    as is readily checked on cocycles.

    In the case $p=q=0$, we get that the cup product on invariants is just the tensor product $$A^G\otimes B^G\to (A\otimes B)^G.$$
\end{remark}

\begin{definition}
    A \textit{pairing} of $G$-modules is a bi-additive map $\varphi: A\times B\to C$ which is $G$-equivariant, i.e. such that
    \[
        \varphi(g\cdot a,\,g\cdot b)=g\cdot\varphi(a,b)
    \]
    for all $a\in A$, $b\in B$, and $g\in G$.
\end{definition}

Since any such pairing induces a map $\overline{\varphi}: A\otimes B\to C$, we can use the cup product to define a pairing on cohomology, which we will denote by the same symbol by a slight abuse of notation:

\[
    \begin{tikzcd}[column sep=small]
        {\H{p}{G}{A}\times\H{q}{G}{B}} \ar[rd] \ar[rr, "\cup"] && \H{p+q}{G}{C}\\
        & \H{p+q}{G}{A\otimes B} \ar[ru, swap, "\overline{\varphi}^*"]
    \end{tikzcd}
\]

In order to prove the duality theorem, we will need the following compatibility of the cup product with exact sequences:

\begin{proposition}\label{prop:CompatCupDiff}
    Suppose we have exact sequences of $G$-modules
    \[
        0\longrightarrow A\longrightarrow B\longrightarrow C\longrightarrow 0,\qquad
        0\longrightarrow A^{\prime}\longrightarrow B^{\prime}\longrightarrow C^{\prime}\longrightarrow 0
    \]
    and a pairing $\varphi: B\times B^{\prime} \to D$ that sends $A\times A^{\prime}$ to $0$, so that it induces pairings
    $$\varphi^{\prime} : A\times C^{\prime} \to D$$
    and
    $$\varphi^{\prime\prime} : A^{\prime} \times C \to D.$$
    Then, the cup products associated with $\varphi^{\prime}, \varphi^{\prime\prime}$ are compatible (up to sign) with the coboundaries of the long exact sequences in cohomology:
    \[
        \delta\gamma\cup\gamma^{\prime} +(-1)^p(\gamma\cup\delta\gamma^{\prime} )=0
    \]
    for all $\gamma\in\H{p}{G}{C}$ and $\gamma^{\prime} \in\H{q-1}{G}{C^{\prime}}$.
\end{proposition}

\begin{proof}
    We need explicit the connecting homomorphisms: lift $\gamma$ and $\gamma^{\prime} $ to cocycles $c$ and $c^{\prime}$, and lift those respectively to $b\in K^p(B)$ and $b^{\prime} \in K^{q-1}(B^{\prime} )$. Their images $db$ and $db^{\prime} $ then come from some $a\in K^{p+1}(A)$ and $a^{\prime} \in K^q(A^{\prime} )$ respectively, which are representatives for $\delta \gamma$ and $\delta \gamma^{\prime} $.

    Now, by \eqref{eq:DiffCup} the \textit{coboundary} $d(b\cup b^{\prime} )$ is equal to $$db\cup b^{\prime} +(-1)^p b\cup db^{\prime} = a\cup c^{\prime}  + (-1)^p c \cup
        a^{\prime},$$ which is thus zero in cohomology.
\end{proof}

\section{Dualizing Module}

In this section we introduce the dualizing module, a type of object which is central in the study of any duality. While it can be defined explicitly (as done in e.g. \cite{Neukirch}),
we are going to prove its existence by homological methods and only compute it for the absolute Galois group of a p-adic field, which suffices to prove the duality theorem. We
start by introducing the type of duality we are interested in:

\begin{definition}
    If \(A\) is an abelian group, we define the \textit{Pontryagin dual} of \(A\) as

    \[
        A^*\coloneqq \Hom_{c}(A,\Q/\Z)
        .\]
    If \(A\) is torsion, \(A^*=\Hom(A,\Q/\Z)\) is profinite with the compact-open topology.
\end{definition}

\begin{remark}\label{rm:Pontryagin}
    The functor \(A\mapsto A^*\)  induces an equivalence of categories

    \[
        \{ \text{Torsion abelian groups} \}^{\text{op}}  \cong \{ \text{Profinite abelian groups}, \}
    \]

    as a special case of Pontryagin duality for locally compact abelian groups.
    For a finite abelian group \(A\), the structure theorem yields a (non-canonical) isomorphism \(A\Iso A^*\), and by cardinality considerations we have the canonical isomorphism
    \begin{align*}
        A & \Iso A^{**}                           \\
        b & \mapsto \left( f\mapsto f(b) \right).
    \end{align*}

    Generalizing to torsion abelian groups, we can write such an \(A\) as the inductive limit of its finite subgroups \(A_i\) to get

    \[
        A^* = \Hom(\varinjlim_i A_i,\Q/\Z) = \varprojlim_i A_i^*,
    \]

    which is a profinite group. Viceversa, if \(G\) is an abelian profinite group, we can write it as the projective limit of its finite quotients \(G_i\), and then

    \[
        G^* = \Hom_{c}( \varprojlim_i G_i,\Q/\Z ) = \varinjlim_i G_i^*
    \]

    is a torsion group. One checks that this actually induces an equivalence of categories, for which we refer to \cite{RibesZalesskii}, \S 2.9.
\end{remark}

\subsection{Existence}

Now, given a profinite group \(G\) of finite cohomological dimension \(\cd(G)=n\), denote by \(\Gfmod\) the category of finite discrete \(G\)-modules.
Then, by the previous remark we have a contravariant left-exact functor
\begin{align}\label{eq:CohomDual}
    \Gfmod & \to \Ab                \\
    A      & \mapsto \H{n}{G}{A}^*:
\end{align}
indeed, \(^*\) is an exact functor because it induces an equivalence, and using the long exact sequence we see that the \(n\)-th cohomology functor is right-exact, so their composition is left-exact by contravariance of \(^*\).

The dualizing module is defined through the following theorem, which gives sufficient conditions to the representability of this functor:

\begin{theorem}\label{thm:DualMod}
    Let \(G\) be a profinite group of finite cohomological dimension \(\cd(G)=n\) such that \(\H{n}{G}{A}\) is finite for all \(A\in\Gfmod\).

    Then, the functor \eqref{eq:CohomDual} is representable in the category \(\Gfmod\): there exists a torsion discrete \(G\)-module \(I\) together with a natural isomorphism
    \begin{equation}\label{eq:FuncIso}
        \Hom_G\left( -,I \right) \simeq \H{n}{G}{-}^*
    \end{equation}
    of functors \(\Gfmod\to\Ab\).
\end{theorem}

\begin{definition}
    In the situation of Theorem \ref{thm:DualMod}, \(I\) is called the \textit{dualizing module} of \(G\).
\end{definition}

The proof uses a lemma from homological algebra, for which we give a basic definition:

\begin{definition}
    A category \(\mathcal{C}\) is \textit{Noetherian} if:
    \begin{itemize}
        \item it is \textit{essentially small} (i.e. it's equivalent to a category whose objects form a set), and
        \item every object \(C\) of \(\mathcal{C}\) is \textit{Noetherian} (i.e. every ascending chain of subobjects of \(C\) stabilizes).
    \end{itemize}
\end{definition}

\begin{lemma}\label{lm:IndRep}
    Let \(\mathcal{C}\) be a Noetherian Abelian category, and \(F: \mathcal{C}\to\Ab\) a contravariant left-exact functor.
    Then, \(F\) is \textup{Ind}-representable: there exists a filtered inductive system \((I_j)\) of objects in \(\mathcal{C}\) such that \(F\) is naturally isomorphic to the functor
    \[A\mapsto \varinjlim_j \Hom(A, I_j).\]
\end{lemma}

We first show how this implies the existence of the dualizing module:
\begin{proof}[Proof of Theorem \ref{thm:DualMod}]
    We apply Lemma \ref{lm:IndRep} to the functor \(\H{n}{G}{-}^*\), which we have already shown to be left-exact; the category \(\Gfmod\) is Noetherian as it's small and its objects are finite.
    Thus, we obtain an inductive system \((I_j)\) and a natural isomorphism
    \[
        \H{n}{G}{-}^* \simeq \varinjlim_j \Hom(-,I_j).
    \]
    Now, set \(I\coloneqq \varinjlim_j I_j\). This is a discrete torsion \(G\)-module, and since \(A\) is finite we conclude:
    \begin{align*}
        \Hom_G(A,I) & \simeq \varinjlim_j \Hom(A,I_j) \\
                    & = \H{n}{G}{A}^*.
    \end{align*}
\end{proof}

\begin{remark}\label{rm:Torsion}
    We can generalize Theorem \ref{thm:DualMod} to discrete torsion \(G\)-modules, just by writing such an \(A\) as the inductive limit of its finite submodules \(A=\displaystyle\varinjlim_{\mathclap{\substack{B\subset A \\B\text{ finite}}}}{B}\):
    \begin{align*}
        \H{n}{G}{A}^* & =\varprojlim \H{n}{G}{B}^*     \\
                      & \simeq \varprojlim \Hom_G(B,I) \\
                      & = \Hom_G(A,I).
    \end{align*}
\end{remark}
\begin{remark}\label{rm:pTorsion}
    If we only consider profinite groups of finite \(p\)-cohomological dimension \(n\), the analogue of Theorem \ref{thm:DualMod} holds with the same proof, provided we further restrict ourselves to \(p\)-primary torsion modules (as the \(n\)-th cohomology functor is right-exact on the corresponding subcategory)
\end{remark}

Let us now embark on the proof of Lemma \ref{lm:IndRep}, which is
due to Grothendieck (in the case of an Artinian category, see \cite{Grothendieck} \S 3):
\begin{proof}A pair \((A,x)\), for \(A\) in \(\mathcal{C}\) and \(x\) in \(F(A)\), is called
    \textbf{minimal} if \(x\notin F(B)\) for each surjection \(B\twoheadrightarrow A\) with a non-trivial kernel. This makes sense as for \(F\) left-exact we can view \(F(B)\) as a subobject of \(F(A)\); we shall use this repeatedly in the following.

    Given two pairs \((A,x)\) and \((B,y)\), we say that \((A,x)\) \textbf{dominates} \((B,y)\) if there is a morphism \(p:A\to B\) such that \(F(p)(y)=x\).

    Using the Noetherian hypothesis, we can show that every pair \((A,x)\) is dominated by a minimal pair: to construct it, consider the poset \(\Sigma\) of all subjobects \(A_0 \subset A\) such that \((A/A_0,y)\) dominates \((A,x)\) for some \(y\in F(A/A_0)\)  through the projection morphism \(p:\,A\twoheadrightarrow A/A_0\).
    Taking \(A_0=0\) and \(y=x\) shows that \(\Sigma\) is non-empty: indeed, \(p=\id_A\) and \(F(p)(y)=\id_{F(A)}(y)=x\). Then, by the Noetherian condition \(\Sigma\) admits a maximal element \(A_0\), and we show that \((A/A_0,y)\) is a minimal pair: given \(p^{\prime} :B\twoheadrightarrow A_0\) with \(\ker(p^{\prime})\neq 0\), if \(y\) is in \(F(B)\) we can consider the pair \((B,y)\) and the morphism \(q\coloneqq p^{\prime} \circ p: A\twoheadrightarrow B\). Then, \((B,y)\) dominates \((A,x)\) since
    \[F(q)(y)=F(p)(F(p^{\prime} )(y))=F(p)(y),\]  but then \(B= (A/A_0)/\ker(p^{\prime})\) is a quotient of \(A\) which contradicts the maximality of \(A_0\).

    Furthermore, if \((A,x)\) is dominated by a minimal pair \((B,y)\), we claim that there is a \textit{unique} morphism \(p:A\to B\) such that \(F(p)(y)=x\).
    Indeed, let \(q:A\to B\) be a morphism with \(F(q)(y)=x\), then \[F(p-q)(y)= 0.\]
    Moreover, the surjection \(A\twoheadrightarrow\Im(p-q)\) induces an injective morphism \(F(\Im(p-q))\hookrightarrow F(A)\), and composing it with the inclusion \(i: \Im(p-q)\hookrightarrow A\) we get a morphism \[F(B)\overset{F(i)}{\to} F(\Im(p-q))\hookrightarrow F(A)\] which sends \(y\) to \(0\), and conclude that \(x\in\ker(F(i))\).

    Finally, taking \(C\) to be the cokernel of \((p-q)\) yields an exact sequence
    \begin{equation}\label{eq:MinSeq}
        0\to\Im(p-q)\overset{i}{\to} B\to C\to 0
    \end{equation}
    which in turn induces an exact sequence
    \[0\to F(C)\to F(B) \to F(\Im(p-q)),\]
    which shows that \(\ker(F(i))=F(C)\), so \(x\) is contained in \(F(C)\). However, by minimality of \((B,y)\) the second
    map in \eqref{eq:MinSeq} is an isomorphism, which means that \(p=q\).

    The set of minimal pairs can be ordered by setting \((A,x)\leq (B,y)\) if \((A,x)\) dominates \((B,y)\). This defines an inductive system \((I_j,x_j)\), as any two minimal pairs \((I_j,x_j)\) and \((I_k,x_k)\) are dominated by their direct sum \(\left(I_j\oplus I_k,(x_j,x_k)\right)\), which is itself dominated by a minimal pair.

    We thus get a canonical element \(x\coloneqq (x_j)\) of \(F(I)\coloneqq \varprojlim_j F(I_j)\), which we use to define a functorial homomorphism

    \[
        \phi: \; \varinjlim_j \Hom(A,I_j)\longrightarrow F(A),
    \]

    by sending \(f\coloneqq (f_j)\) to \(F(f)(x)\). This is well defined because \(\Hom\) preserves limits, and so
    \[
        F(f)\in\varinjlim_j{\Hom(F(I_j),F(A))}=\Hom(F(I),F(A)).
    \]

    Finally, we show that \(\phi\) is an isomorphism: if \((f_j)\) is sent to \(0\), then for any \(j\) the two morphisms
    \[
        F(f_j), F(0):\; F(I_j) \to F(A)
    \]
    both send \(x_j\) to \(0.\) Since \((I_j,x_j)\) is a minimal a pair which dominates \((A,0)\), we deduce that \(f_j\) must be the zero morphism, and by arbitrariety of \(j\) we get injectivity.

    For surjectivity, given any \(y\in F(A)\) we know that \((A,y)\) is dominated by a minimal pair \((I_j,x_j),\) so there is a unique \(f_j:\, A\to I_j\) satisfying \(F(f_j)(x_j)=y.\) Then, the limit of the \(f_j\) is sent by \(\phi\) to \(y,\) and we are done.
\end{proof}


\begin{remark}
    We can view the functorial isomorphism \eqref{eq:FuncIso} as a \textbf{perfect pairing} of \textit{torsion} groups (in light of Remark \ref{rm:Torsion}, which in particular applies to $A=I$):
    \[
        \langle-,-\rangle_A:\,\Hom_G(A,I)\times\H{n}{G}{A}\longrightarrow\Q /\Z.
    \]
\end{remark}

For any \(G\)-module \(A\), consider the abelian group
\[
    A^{\prime}\coloneqq \Hom_\Z(A,I),
\]
which we make into a \(G\)-module by setting
\begin{equation}\label{eq:TateTwist}
    (\sigma\cdot f)(a)=\sigma(f(\sigma^{-1}\cdot a)).
\end{equation}

This action induces a pairing of \(G\)-modules
\begin{align*}
    A^\prime\times A & \to I         \\
    (f,a)            & \mapsto f(a),
\end{align*}
and thus a cup product
\[
    \H{0}{G}{A^\prime}\times\H{n}{G}{A}\overset{\cup}{\longrightarrow}\H{n}{G}{I}
\]

which is related to the dual of cohomology by
\[
    \H{0}{G}{A^{\prime}} = \Hom_G(A,I).
\]
Indeed, the group \(\H{0}{G}{A^{\prime} }\) consists of the \(G\)-invariants of \(A^{\prime} = \Hom_\Z(A,I)\), and so
\[
    \H{0}{G}{A^{\prime}} = (\Hom_\Z(A,I))^G = \Hom_G(A,I).
\]

We will need the following compatibility of the cup product with the duality pairing:

\begin{lemma}\label{lm:CompatCupDual}
    In the situation of the previous definition, the pairing \(\langle-,- \rangle_A\) factors through the cup product and the homomorphism \(i\coloneqq \langle \id_I,-\rangle_I: \H{n}{G}{I}\to \Q/\Z\), i.e. the following diagram commutes:
    \[
        \begin{tikzcd}
            {\H{0}{G}{A^\prime}  \times \H{n}{G}{A}} \ar[swap, rd, "\langle - {,} - \rangle_A "] \ar[r, "\cup"] & \H{n}{G}{I} \ar[d, "i"] \\
            & \Q/\Z.
        \end{tikzcd}
    \]
\end{lemma}

\begin{proof}
    Any morphism \(f\in\Hom_G(A,I)\) induces a homomorphism in cohomology
    \[
        f^*:\, \H{n}{G}{A}\to\H{n}{G}{I},
    \]
    and by composition on the left a homomorphism
    \[
        f_*:\, \Hom_G(I,I)\to\Hom_G(A,I)
        .\]
    Now, writing out the functorality of the dualizing module gives the following commutative diagram:
    \[
        \tikzset{
            symbol/.style={
                    draw=none,
                    every to/.append style={
                            edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
                }
        }
        \begin{tikzcd}
            \Hom_G(A,I) \arrow[r,symbol=\times] &[-2em] \ar[dd, "f^*"] \H{n}{G}{A} \ar[rd, "\langle - {,} - \rangle_A "] &[2em] \\
            && \Q/\Z \\
            \Hom_G(I,I)  \arrow[r,symbol=\times] \ar[uu, "f_*"] & \H{n}{G}{I}  \ar[swap, ru, "\langle - {,} - \rangle_I "]
        \end{tikzcd}
    \]

    As remarked in \ref{rm:Cup0n}, here the cup product of \(f\in\H{0}{G}{A^{\prime}}\) with some \(\alpha\in\H{n}{G}{A}\) is given by
    \( f^*(\alpha) \). Since \(f_*\) clearly sends \(\id_I\) to \(f\), the above diagram implies that
    \[
        \langle f, \alpha \rangle_A = \langle \id_I, f^*(\alpha)\rangle_I=i(f\cup\alpha).
    \]
\end{proof}

\begin{corollary}
    It follows that the pair \((I,i)\) is unique up to unique isomorphism.
\end{corollary}

Before moving on to the computation of the dualizing module of the absolute Galois group of a \(p\)-adic field, we need a lemma about dualizing modules of open subgroups:

\begin{lemma}\label{lm:DualOpenSgr}
    Let \(G\) be a profinite group of finite cohomological dimension \(n\) such that \(\H{n}{G}{A}\) is finite for all \(A\in\Gfmod\). If \(U\subset G\) is an open subgroup and \(I\) is the dualizing module of \(G\), then \(I\) (viewed as an \(U\)-module) is the dualizing module of \(U\), and the homomorphism
    \[
        \H{n}{U}{A}\to\H{n}{G}{A}
    \]
    defined by dualizing the inclusion \(i:\Hom_G(A,I) \hookrightarrow \Hom_U(A,I) \) is simply the corestriction.
\end{lemma}

\begin{proof}
    As \(U\) is open and \(\cd(G)<\infty\), Proposition \ref{prop:CdSgr} implies \(\cd(U)=\cd(G)\). By uniqueness of the dualizing module, it's enough to show that
    \(\H{n}{U}{-}^*\simeq\Hom_U(-,I)\), and then the first claim follows from the functorial isomorphisms
    \begin{align*}
        \H{n}{U}{A}^* & \simeq \H{n}{G}{\mathrm{I}_G^U(A)}   & \text{(Shapiro)}                               \\
                      & \simeq \Hom_G(\mathrm{I}_G^U(A),\,I) & \text{($I$ is the dualizing module of $G$)}    \\
                      & \simeq \Hom_U(A,\,I)                 & \text{(by Proposition \ref{prop:IndLeftAdj})}.
    \end{align*}
    For the second claim, recall from remark \ref{rm:Cor} that the corestriction homomorphism is induced by the surjective morphism of \(G\)-modules
    \[\mathrm{I}_G^U(A) \overset{\pi}{\longrightarrow} A\]
    defined as
    \[ \pi(f)= \sum_{g\in G/U}{g\cdot f(g^{-1})}.\]
    On the other hand, $\pi$ induces a morphism of modules \(\Hom_G(A,I)\overset{\pi_*}{\longrightarrow}\Hom_G(\mathrm{I}_G^U(A),I)\).
    Using the functoriality of the dualizing module and the Shapiro isomorphism $\sh$ \eqref{eq:Shapiro},
    we get the following commutative diagram:
    \[
        \begin{tikzcd}[column sep=small, row sep=large]
            \Hom_U(A,I)
            \rar["\Phi"] &
            \Hom_G(\mathrm{I}_G^U(A), I)
            \rar &
            \H{n}{G}{\mathrm{I}_G^U(A)}^*
            \rar["(-)^*"]&\H{n}{G}{\mathrm{I}_G^U(A)}
            \rar["\sh\ "]
            \ar[d, "\Cor"]&\H{n}{U}{A}\ar[dl] \\
            &
            \Hom_G(A,I) \ar[swap, lu, "i"]
            \ar[u, "\pi_*"]
            \rar &
            \H{n}{G}{A}^*
            \ar[u,"\pi_n^*"]
            \rar["(-)^*"] &
            \H{n}{G}{A} \\
        \end{tikzcd}
    \]
    Here, $\Phi$ is the isomorphism of Proposition \ref{prop:IndLeftAdj},
    which makes the leftmost triangle commute as
    \[
        \pi_*(\varphi)(f) = \varphi\left(\sum\nolimits_{g\in G/U}\;{g\cdot f(g^{-1} )}\right) = \sum\nolimits_{g\in G/U}\;{g\cdot \varphi(f(g^{-1}))} = (\Phi\circ i) (\varphi)(f)
    \]
    for any \(\varphi\in\Hom_G(A,I)\) and \(f\in\mathrm{I}_G^U(A)\).
\end{proof}

\subsection{Computation for p-adic Fields}

Finally, we apply the theory of dualizing modules to the absolute Galois group \(\Gamma\) of a \(p\)-adic field \(\K\): by \ref{thm:CohomFin} we know that \(\cd(\Gamma)=2\), and by \ref{cor:FinCohom} the groups \(\H{2}{\K}{A}\) are finite for any finite \(\Gamma_K\)-module $A$. Thus, by Theorem \ref{thm:DualMod} \(\Gamma\) has a dualizing module \(I\), which we now compute explicitly.

\begin{proposition}
    The dualizing module of \(\Gamma\) is canonically isomorphic to the \(\Gamma\)-module of roots of unity \(\mu\subset\Kx\).
\end{proposition}

\begin{proof}
    Let $I_n\coloneqq I[n]$ be the kernel of multiplication by $n$ on $I$, and take an open subgroup $U\subset\Gamma$. By Lemma \ref{lm:DualOpenSgr}, the dualizing module of $U$ is the same as that of $\Gamma$.

    The computation of the cohomology of $\mu_n$ (Theorem \ref{thm:CohomMuN}) shows that \(\H{2}{U}{\mu_n}\simeq\Zn\), and by Proposition \ref{prop:BrCorRes} the corestriction $\Br{K^U}\to\Br{K}$ is the identity of $\Q/\Z$.

    Thus, if $U\subset V$ are open subgroups of $\Gamma$, the second part of Lemma \ref{lm:DualOpenSgr} yields the following commutative diagram:
    \begin{equation}\label{eq:FuncDual}
        \begin{tikzcd}
            \Hom_V(\mu_n,I_n)
            \ar[d]
            \ar[r] &
            \H{2}{V}{\mu_n}^*
            \ar[d, "\Cor^*=\,\id"]
            \rar["\sim"] &
            \Zn
            \ar[equal, d] \\
            \Hom_U(\mu_n,I_n)
            \ar[r] &
            \H{2}{U}{\mu_n}^*
            \rar["\sim"] &
            \Zn.
        \end{tikzcd}
    \end{equation}
    This shows that \(\H{2}{U}{\mu_n}\) doesn't depend on \(U\), and by Remark \ref{rm:discGmodUnion} we get
    \[
        \Hom_\Z(\mu_n,I_n)=\bigcup_{\mathclap{\substack{U\subset\,\Gamma\\U\text{ open}}}}{\Hom_U(\mu_n,I_n)}\simeq\Zn
    \]
    In particular, taking $U$ to be $\Gamma$ tells us that $\Gamma$ acts trivially on $\Hom_\Z(\mu_n,I_n)$, or equivalently that any homomorphism $\mu_n\to I_n$ is $\Gamma$-equivariant.

    Let $f_n$ be the canonical generator of $\Hom_\Z(\mu_n,I_n)$ associated with $1\in\Zn$. Then $f_n$ is injective because it has order $n$, and surjective because otherwise any
    element outside its image wouldn't be reached by any element of $\langle f_n\rangle=\Hom_\Z(\mu_n,I_n)$, but since $I_n$ has exponent $n$ there exist homomorphisms $\mu_n\to I_n$ sending a generator of $\mu_n$ to any element of $I_n$.

    By writing $\mu = \bigcup_n{\mu_n}$ and $I = \bigcup_n{I[n]}$, we get an isomorphism of $\Gamma$-module
    \[
        f\coloneqq \varinjlim_n f_n:\, \mu\Iso I,
    \]
    which is well defined thanks to the functoriality of the dualizing
    module, and canonical since the map $\H{2}{\Gamma}{\mu_m}\to\H{2}{\Gamma}{\mu_n}$ induces the canonical injection $\Z/m\Z\hookrightarrow\Zn$ if $m$ divides $n$.
\end{proof}

\section{Tate Duality}
We now define yet another type of duality for finite groups:
\begin{definition}
    Given a field \(\K\), let  $\Gamma$ be its absolute Galois group and $\mu$ the group of all the roots of unity in $\Kx$.
    For any finite \(\Gamma\) -module \(M\) whose torsion is prime to the characteristic of \(\K\), we define the \textbf{Cartier dual} of $M$ as
    \begin{equation*}
        M^{\prime} = \Hom_{\Z}(M, \Kx)=\Hom_{\Z}(M, \mu),
    \end{equation*}
    with the action of $\Gamma$ given by
    \begin{equation*}
        (\sigma \cdot f)(m) = \sigma(f(\sigma^{-1}\cdot m)),
    \end{equation*}
    just as we did in \eqref{eq:TateTwist}.
    Notice that with this action, if $M=\mu_n$, then its dual $M^{\prime} = \Hom_{\Z}(\mu_n, \mu_n)$ is isomorphic to $\Zn$ as a $\Gamma$-module.
\end{definition}

\begin{theorem}
    Let $\K$ be a p-adic field, and $M$ a finite $\Gamma$-module.
    Then, for $i=0,1,2$ the cup product induces a perfect pairing of finite groups
    \begin{equation*}
        H^i(\K, M) \times H^{2-i}(\K, M^{\prime}) \to H^2(\K, \mu) \cong \Q/\Z.
    \end{equation*}
\end{theorem}
\begin{proof}
    We have already proved the finiteness of the groups involved in \ref{cor:FinCohom}, so we only need to show that the pairing is perfect.
    We start from $i=2$, where our computation of the dualizing module pays off: indeed, the content of Lemma \ref{lm:CompatCupDual}
    in this situtation consists of the following commutative diagram
    \begin{equation*}
        \begin{tikzcd}
            {\H{0}{\K}{M^\prime}  \times \HH{\K}{M}} \ar[swap, rd, "\langle - {,} - \rangle_M "] \ar[r, "\cup"] & \HH{\K}{\mu} \ar[d, "i"] \\
            & \Q/\Z,
        \end{tikzcd}
    \end{equation*}
    where
    \[
        i = \langle \id_{\Q/\Z}, - \rangle : \H{2}{\K}{\mu} \Iso \Q/\Z.
    \]
    Since \(\langle -{,}- \rangle_M\) is a perfect pairing, we are done.

    The case $i=0$ then follows by symmetry, as any finite $M$ can be identified with its double dual $M''$.
    We are now left with $i=1$: here it's enough to show that the map
    \[
        \H{1}{\K}{M} \overset{\cup}{\to} \H{1}{\K}{M^\prime}^*
    \]
    induced by the cup product is injective, as then applying the same argument to $M^\prime$ gets us surjectivity, since we are working with finite groups.
    To prove injectivity, we first find a finite $\Gamma$-module $B$ fitting in an exact sequence
    \begin{equation}\label{eq:InjSeq}
        0\to M\to B\to C\to 0
    \end{equation}
    such that the induced map
    \[
        \H{1}{\K}{B}\to\H{1}{\K}{B}
    \]
    is zero:
    as usual, we start by injecting $M$ in the induced module $\Ind{\Gamma}{M}$ which is torsion, and by the fundamental property \ref{thm:IndLim} we have

    \[
        0=\H{n}{\K}{\Ind{\Gamma}{M}}=\varinjlim_{\substack{B\subset\Ind{\Gamma}{M} \\B\text{ finite}}}{\H{n}{\K}{B}},
    \]
    which implies the existence of a finite submodule \(B\) with \(\H{n}{\K}{B}=0\). As \(M\) is finite, we can find such a \(B\) which contains \(M\), whose quotient \(C=B/M\) is finite as well.
    Now, we can relate the long exact sequences in cohomology associated with the short exact sequence \eqref{eq:InjSeq}
    and its dual using the cup product, which gets us the following commutative diagram (up to a sign, by \ref{prop:CompatCupDiff}) with exact rows:
    \[
        \begin{tikzcd}
            \H{0}{\K}{B} \ar[r] \ar[d, "\cup"] & \H{0}{\K}{C} \ar[r] \ar[d, "\cup"] & \H{1}{\K}{M} \ar[d, "\cup"] \ar[r] & 0 \\
            \H{2}{\K}{B^\prime}^* \ar[r] & \H{2}{\K}{C^\prime}^* \ar[r] & \H{1}{\K}{M^\prime}^*.
        \end{tikzcd}
    \]
    As \(B\) and \(C\) are finite, the first two vertical maps are isomorphisms by the previous cases, and the third one is injective by diagram chasing.

\end{proof}

% TODO Remark: The theorem also holds local fields of positive characteristic and p-torsion-free modules by <ref>

\subsection{Local Class Field Theory}

Let K be a $p$-adic field with absolute Galois group $\Gamma$. As an immediate application of the local duality theorem, since for any $n>0$ the Cartier dual of the $\Gamma$-module $\mu_n$ is $\Zn$, the cup product induces an isomorphism


\[
    \H{1}{K}{\mu_n} \Iso \H{1}{K}{\Zn}^*.
\]

Recall that the groups $\K^{\times n}$ are open in $\Kx$ (Proposition \ref{cor:KxOpen}), and note that they are cofinal in the open subgroups of finite index (their quotients are
finite because of \ref{thm:CohomMuN} and \textcolor{red}{TODO}). Thus, we get the following description of the absolute Galois group of a $p$-adic field:

\begin{align*}
    \Gamma^{\text{ab}} & = \Hom(\Gamma, \Q/\Z)^*                              & \text{(by Pontryagin duality)}        \\
                       & = \Hom(\Gamma, \varinjlim_n\nolimits \Zn)^*          & \text{(viewing $\Q/\Z$ as a colimit)} \\
                       & = \varprojlim_n\nolimits \Hom(\Gamma, \Zn)^*         & \text{(by contravariance)}            \\
                       & = \varprojlim_n\nolimits \H{1}{K}{\Zn}^*             & \text{(by \ref{rm:TrivialModH1})}     \\
                       & = \varprojlim_n\nolimits \H{1}{K}{\mu_n}             & \text{(by Tate Duality)}              \\
                       & = \varprojlim_n\nolimits \K^{\times} / \K^{\times n} & \text{(by \ref{thm:CohomMuN})}        \\
                       & = \hat{\K}^{\times}                                  & \text{(by \ref{cor:KxOpen})}.
\end{align*}

In particular, by Galois theory we deduce a correspondence
\[
    \{\text{finite abelian extensions of }K\} \iff \{\text{finite subgroups of }\hat{\K}^{\times} = \hat{\Z} \times U_K\}
    .\]

% TODO: expand on this?
The main result of local class field theory, the existence theorem, makes this correspondence explicit using the \textit{reciprocity map}, which is outside the scope of this work.

\nocite{*}
\printbibliography

\end{document}
